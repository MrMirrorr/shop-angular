<app-main-layout [withControlPanel]="true">
  <div class="content_wrapper main_container">
    <div class="content">
      <div
        class="spinner_wrapper flex_center"
        *ngIf="isLoading; else loadedContent"
      >
        <mat-spinner class="spinner"></mat-spinner>
      </div>

      <ng-template #loadedContent>
        <app-product-list [products]="products"></app-product-list>
      </ng-template>

      <div *ngIf="!products.length && !isLoading">Товары не найдены</div>
    </div>

    <app-paginator
      *ngIf="!!products.length"
      [pageSizeOptions]="pageSizeOptions"
      [length]="count"
      [pageSize]="pageSize"
      [pageIndex]="pageIndex"
      (pageChange)="onPageChange($event)"
    ></app-paginator>
  </div>
</app-main-layout>
